<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <title>开始 | koacrab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="description" content="koacrab，是一个 MVVM 的组件框架。它体积小巧（12K），兼容性好（IE6），性能卓越，是一个可靠、可依赖的实现响应式用户界面的解决方案。 koacrab 通过声明式的类 HTML 视图模板，在支持所有原生 HTML 的语法特性外，还支持了数据到视图的绑定指令、业务开发中最常使用的分支、循环指令等，在保持良好的易用性基础上，由框架完成基于字符串的模板解析，并构建出视图层的 节点关系树，通过高性能的视图引" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="开始" />
  <meta property="og:url" content="/api.html" />
  <meta property="og:site_name" content="koacrab" />
  <meta property="og:description" content="koacrab，是一个 MVVM 的组件框架。它体积小巧（12K），兼容性好（IE6），性能卓越，是一个可靠、可依赖的实现响应式用户界面的解决方案。 koacrab 通过声明式的类 HTML 视图模板，在支持所有原生 HTML 的语法特性外，还支持了数据到视图的绑定指令、业务开发中最常使用的分支、循环指令等，在保持良好的易用性基础上，由框架完成基于字符串的模板解析，并构建出视图层的 节点关系树，通过高性能的视图引" />
  <meta property="og:updated_time" content="2018-01-11T07:05:19.900Z" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="开始" />
  <meta name="twitter:description" content="koacrab，是一个 MVVM 的组件框架。它体积小巧（12K），兼容性好（IE6），性能卓越，是一个可靠、可依赖的实现响应式用户界面的解决方案。 koacrab 通过声明式的类 HTML 视图模板，在支持所有原生 HTML 的语法特性外，还支持了数据到视图的绑定指令、业务开发中最常使用的分支、循环指令等，在保持良好的易用性基础上，由框架完成基于字符串的模板解析，并构建出视图层的 节点关系树，通过高性能的视图引" />
  <link rel="alternate" href="/atom.xml" title="koacrab" type="application/atom+xml" />
  <link rel="icon" href="/favicon.png" />
  <link rel="stylesheet" href="css/font-awesome.min.css" />
  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/site.css" />
  <link rel="stylesheet" href="css/article.css" />
  <link rel="stylesheet" href="css/code.css" />
  <!-- search -->
  <link rel="stylesheet" href="css/docsearch.min.css" />
 </head>
 <body>
  <div class="body-inner">
   <header>
    <a href="index.html" class="logo-s-link"> <img height="80" src="images/logo.png" class="logo-s" alt="LOGO" title="koacrab" /> </a>
    <a id="mobile-nav-toggle"> <span class="mobile-nav-toggle-bar"></span> <span class="mobile-nav-toggle-bar"></span> </a>
    <div class="header-content">
     <nav class="header-content-nav">
      <div class="search-input">
       <style type="text/css">
          #san-query-input::-webkit-input-placeholder{
          　　color: #000 !important;
          　　}
        </style>
       <input type="text" id="san-query-input" placeholder="Search" class="search-query st-default-search-input" />
       <svg t="1502693727354" class="icon" style="" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1431" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
        <defs>
         <style type="text/css"></style>
        </defs>
        <path d="M817.243 742.793l152.765 153.11-76.72 76.547-152.765-153.11zM685.498 258.674c-118.486-118.541-310.63-118.541-429.171 0-118.542 118.542-118.542 310.686 0 429.172 54.911 54.928 130.781 88.903 214.586 88.903 83.804 0 159.674-33.977 214.585-88.903 54.928-54.913 88.903-130.782 88.903-214.587 0-83.804-33.977-159.674-88.903-214.585zM190.258 753.915c-71.856-71.838-116.303-171.092-116.303-280.727 0-219.233 177.723-396.956 396.956-396.956s396.956 177.723 396.956 396.956c0 109.635-44.446 208.89-116.302 280.726-71.833 71.814-171.057 116.229-280.656 116.229s-208.822-44.415-280.656-116.229l0.003 0.001z" p-id="1432"></path>
       </svg>
      </div>
      <ul>
       <li><a class="router" href="#">HOME</a> </li>
       <li><a class="router" href="#">教程</a> </li>
       <li><a class="router" href="#">示例</a> </li>
       <li><a class="router" href="#">API</a> </li>
       <li><a class="github" href="https://github.com/haizlin/koacrab" target="_blank"> <embed src="js/github2.svg" width="20" height="20" type="image/svg+xml" pluginspage="http://www.adobe.com/svg/viewer/install/" /> </a> </li>
       <li> </li>
      </ul>
     </nav>
    </div>
   </header>
   <script type="text/javascript" src="js/docsearch.min.js"></script>
   <script type="text/javascript">
    var Input = document.getElementById('san-query-input');
    var Icon = document.getElementsByClassName('icon')[0];
    docsearch({
        apiKey: '1c360e1f2503c4fa59ea3d28e3b8f6b3',
        indexName: 'san',
        inputSelector: '#san-query-input',
        debug: false // Set debug to true if you want to inspect the dropdown
    });
</script>
   <main>
    <aside class="recommend">
     <dl>
      <dt>
       教程
      </dt>
      <dd>
       <a href="#">安装</a>
      </dd>
      <dd>
       <a href="#">背景</a>
      </dd>
      <dd>
       <a href="#">开始</a>
      </dd>
      <dd>
       <a href="#">数据绑定</a>
      </dd>
      <dd>
       <a href="#">数据操作</a>
      </dd>
      <dd>
       <a href="#">数据校验</a>
      </dd>
      <dd>
       <a href="#">样式</a>
      </dd>
      <dd>
       <a href="#">条件</a>
      </dd>
      <dd>
       <a href="#">循环</a>
      </dd>
      <dd>
       <a href="#">事件处理</a>
      </dd>
      <dd>
       <a href="#">表单</a>
      </dd>
      <dd>
       <a href="#">插槽</a>
      </dd>
      <dd>
       <a href="#">过渡</a>
      </dd>
      <dd>
       <a href="#">组件</a>
      </dd>
      <dd>
       <a href="#">组件反解</a>
      </dd>
      <dd>
       <a href="#">服务端渲染</a>
      </dd>
      <dt>
       了解更多
      </dt>
      <dd>
       <a href="#">组件 API</a>
      </dd>
      <dd>
       <a href="#">主模块 API</a>
      </dd>
      <dd>
       <a href="https://github.com/haizlin/koacrab/blob/master/doc/anode.md" target="_blank">ANode DOC</a>
      </dd>
      <dd>
       <a href="https://github.com/haizlin/koacrab/tree/master/dist" target="_blank">发布版本说明</a>
      </dd>
      <dd>
       <a href="https://github.com/haizlin/koacrab/blob/master/CHANGELOG.md" target="_blank">版本更新日志</a>
      </dd>
      <dt>
       示例
      </dt>
      <dd>
       <a href="https://github.com/haizlin/koacrab/tree/master/example/start" target="_blank">一些小示例</a>
      </dd>
      <dd>
       <a href="https://github.com/haizlin/koacrab/tree/master/example/todos-amd" target="_blank">Todos (AMD)</a>
      </dd>
      <dd>
       <a href="https://github.com/haizlin/koacrab/tree/master/example/todos-esnext" target="_blank">Todos (ESNext)</a>
      </dd>
      <dd>
       <a href="https://github.com/haizlin/koacrab-store/tree/master/example/todos" target="_blank">Todos (单向流)</a>
      </dd>
     </dl>
    </aside>
    <article id="post-tutorial/start" class="article article-type-post" itemscope="" itemprop="blogPost">
     <div class="article-inner">
      <div class="article-title">
       <h1 class="article-title" itemprop="name"> 开始 </h1>
       <a href="https://github.com/haizlin/koacrab-website/tree/master/source/_posts/tutorial/start.md" class="article-edit-link" title="编辑本文" target="_blank"> <embed src="js/pen.svg" width="12" height="15" style="padding-top:2px;" type="image/svg+xml" pluginspage="http://www.adobe.com/svg/viewer/install/" /> 编辑本文</a>
      </div>
      <div class="article-entry" itemprop="articleBody">
       <p>koacrab，是一个 MVVM 的组件框架。它体积小巧（12K），兼容性好（IE6），性能卓越，是一个可靠、可依赖的实现响应式用户界面的解决方案。</p>
       <p>koacrab 通过声明式的类 HTML 视图模板，在支持所有原生 HTML 的语法特性外，还支持了数据到视图的绑定指令、业务开发中最常使用的分支、循环指令等，在保持良好的易用性基础上，由框架完成基于字符串的模板解析，并构建出视图层的 <a href="https://github.com/haizlin/koacrab/blob/master/doc/anode.md" target="_blank" rel="noopener">节点关系树</a>，通过高性能的视图引擎快速生成 UI 视图。koacrab 中定义的数据会被封装，使得当数据发生有效变更时通知 koacrab 组件，koacrab 组件依赖模板编译阶段生成的<a href="https://github.com/haizlin/koacrab/blob/master/doc/anode.md" target="_blank" rel="noopener">节点关系树</a>，确定需要变更的最小视图，进而完成视图的异步更新，保证了视图更新的高效性。</p>
       <p>组件是 koacrab 的基本单位，是独立的数据、逻辑、视图的封装单元。从页面角度看，组件是 HTML 元素的扩展；从功能模式角度看，组件是一个 ViewModel。koacrab 组件提供了完整的生命周期，与 WebComponent 的生命周期相符合，组件间是可嵌套的树形关系，完整的支持了组件层级、组件间的通信，方便组件间的数据流转。koacrab 的组件机制，可以有效支撑业务开发上的组件化需求。</p>
       <p>koacrab 支持<a href="https://ecomfe.github.io/san/tutorial/reverse/">组件反解</a>，以此提供<a href="https://ecomfe.github.io/san/tutorial/ssr/">服务端渲染</a>能力，可以解决纯前端渲染导致的响应用户交互时延长、SEO 问题。除此之外，koacrab 还提供了一些周边开源产品，与 koacrab 配合使用，可以帮助开发者快速搭建可维护的大型 SPA 应用。</p>
       <p>现在，我们从一些简单的例子，开始了解 koacrab。这些例子可以从<a href="https://github.com/haizlin/koacrab/tree/master/example/start" target="_blank" rel="noopener">这里</a>找到。</p>
       <h2 id="Hello"><a href="#Hello" class="headerlink" title="Hello"></a>Hello</h2>
       <figure class="highlight javascript">
        <table>
         <tbody>
          <tr>
           <td class="gutter"><pre><span class="line">1</span><br /><span class="line">2</span><br /><span class="line">3</span><br /><span class="line">4</span><br /><span class="line">5</span><br /><span class="line">6</span><br /><span class="line">7</span><br /><span class="line">8</span><br /><span class="line">9</span><br /><span class="line">10</span><br /><span class="line">11</span><br /><span class="line">12</span><br /><span class="line">13</span><br /></pre></td>
           <td class="code"><pre><span class="line"><span class="keyword">var</span> MyApp = san.defineComponent({</span><br /><span class="line">    template: <span class="string">'&lt;p&gt;Hello {{name}}!&lt;/p&gt;'</span>,</span><br /><span class="line"></span><br /><span class="line">    initData: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br /><span class="line">        <span class="keyword">return</span> {</span><br /><span class="line">            name: <span class="string">'koacrab'</span></span><br /><span class="line">        };</span><br /><span class="line">    }</span><br /><span class="line">});</span><br /><span class="line"></span><br /><span class="line"></span><br /><span class="line"><span class="keyword">var</span> myApp = <span class="keyword">new</span> MyApp();</span><br /><span class="line">myApp.attach(<span class="built_in">document</span>.body);</span><br /></pre></td>
          </tr>
         </tbody>
        </table>
       </figure>
       <p>可以看到，通常情况实用 koacrab 会经过这么几步：</p>
       <ol>
        <li>我们先定义了一个 koacrab 的组件，在定义时指定了组件的 <strong>内容模板</strong> 与 <strong>初始数据</strong> 。</li>
        <li>初始化组件对象</li>
        <li>让组件在相应的地方渲染</li>
       </ol>
       <p><code>额外提示</code>：在 JavaScript 中书写 HTML 片段对维护来说是不友好的，我们可以通过 WebPack、AMD plugin、异步请求等方式管理。这里为了例子的简单就写在一起了。</p>
       <h2 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h2>
       <figure class="highlight javascript">
        <table>
         <tbody>
          <tr>
           <td class="gutter"><pre><span class="line">1</span><br /><span class="line">2</span><br /><span class="line">3</span><br /><span class="line">4</span><br /><span class="line">5</span><br /><span class="line">6</span><br /><span class="line">7</span><br /><span class="line">8</span><br /><span class="line">9</span><br /><span class="line">10</span><br /></pre></td>
           <td class="code"><pre><span class="line"><span class="keyword">var</span> MyApp = san.defineComponent({</span><br /><span class="line">    template: <span class="string">'&lt;ul&gt;&lt;li s-for=&quot;item in list&quot;&gt;{{item}}&lt;/li&gt;&lt;/ul&gt;'</span>,</span><br /><span class="line"></span><br /><span class="line">    attached: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br /><span class="line">        <span class="keyword">this</span>.data.set(<span class="string">'list'</span>, [<span class="string">'san'</span>, <span class="string">'er'</span>, <span class="string">'esui'</span>, <span class="string">'etpl'</span>, <span class="string">'esl'</span>]);</span><br /><span class="line">    }</span><br /><span class="line">});</span><br /><span class="line"></span><br /><span class="line"><span class="keyword">var</span> myApp = <span class="keyword">new</span> MyApp();</span><br /><span class="line">myApp.attach(<span class="built_in">document</span>.body);</span><br /></pre></td>
          </tr>
         </tbody>
        </table>
       </figure>
       <p>上面的例子使用 for 指令对列表进行遍历并输出。这里有个很常用的实践方法：在生命周期 <strong>attached</strong> 中重新灌入数据，使视图刷新。在这里，我们可以发起获取数据的请求，在请求返回后更新数据。</p>
       <h2 id="双向绑定"><a href="#双向绑定" class="headerlink" title="双向绑定"></a>双向绑定</h2>
       <figure class="highlight javascript">
        <table>
         <tbody>
          <tr>
           <td class="gutter"><pre><span class="line">1</span><br /><span class="line">2</span><br /><span class="line">3</span><br /><span class="line">4</span><br /><span class="line">5</span><br /><span class="line">6</span><br /><span class="line">7</span><br /><span class="line">8</span><br /><span class="line">9</span><br /><span class="line">10</span><br /></pre></td>
           <td class="code"><pre><span class="line"><span class="keyword">var</span> MyApp = san.defineComponent({</span><br /><span class="line">    template: <span class="string">''</span></span><br /><span class="line">        + <span class="string">'&lt;div&gt;'</span></span><br /><span class="line">        +   <span class="string">'&lt;input value=&quot;{= name =}&quot; placeholder=&quot;please input&quot;&gt;'</span></span><br /><span class="line">        +   <span class="string">'Hello {{name}}!'</span></span><br /><span class="line">        + <span class="string">'&lt;/div&gt;'</span></span><br /><span class="line">});</span><br /><span class="line"></span><br /><span class="line"><span class="keyword">var</span> myApp = <span class="keyword">new</span> MyApp();</span><br /><span class="line">myApp.attach(<span class="built_in">document</span>.body);</span><br /></pre></td>
          </tr>
         </tbody>
        </table>
       </figure>
       <p>双向绑定通常出现在用户输入的场景，将用户输入结果自动更新到组件数据。在这个例子中，通过 <strong>{= expression =}</strong> 声明双向绑定，把输入框的 value 与数据项 name 绑定起来。</p>
      </div>
     </div>
    </article>
    <aside class="toc-wrap">
     <ol class="toc">
      <li class="toc-item toc-level-2"><a class="toc-link" href="#Hello"><span class="toc-text">Hello</span></a></li>
      <li class="toc-item toc-level-2"><a class="toc-link" href="#列表渲染"><span class="toc-text">列表渲染</span></a></li>
      <li class="toc-item toc-level-2"><a class="toc-link" href="#双向绑定"><span class="toc-text">双向绑定</span></a></li>
     </ol>
     <a href="#" class="toc-top"> 回到顶部 </a>
    </aside>
   </main>
   <div class="footer-copyright">
     &copy; 2018
    <a target="_blank" href="http://efe.baidu.com">Baidu EFE</a>
   </div>
  </div>
  <div class="mobile-nav-dimmer"></div>
  <div class="mobile-nav">
   <ul class="mobile-nav-header">
    <li><a href="#">HOME</a> </li>
    <li><a href="#">教程</a> </li>
    <li><a href="#">示例</a> </li>
    <li><a href="#">API</a> </li>
    <li><a href="https://github.com/haizlin/koacrab" class="github" target="_blank">Github </a></li>
   </ul>
   <aside class="mobile-nav-recommend">
    <dl>
     <dt>
      教程
     </dt>
     <dd>
      <a href="#">安装</a>
     </dd>
     <dd>
      <a href="#">背景</a>
     </dd>
     <dd>
      <a href="#">开始</a>
     </dd>
     <dd>
      <a href="#">数据绑定</a>
     </dd>
     <dd>
      <a href="#">数据操作</a>
     </dd>
     <dd>
      <a href="#">数据校验</a>
     </dd>
     <dd>
      <a href="#">样式</a>
     </dd>
     <dd>
      <a href="#">条件</a>
     </dd>
     <dd>
      <a href="#">循环</a>
     </dd>
     <dd>
      <a href="#">事件处理</a>
     </dd>
     <dd>
      <a href="#">表单</a>
     </dd>
     <dd>
      <a href="#">插槽</a>
     </dd>
     <dd>
      <a href="#">过渡</a>
     </dd>
     <dd>
      <a href="#">组件</a>
     </dd>
     <dd>
      <a href="#">组件反解</a>
     </dd>
     <dd>
      <a href="#">服务端渲染</a>
     </dd>
     <dt>
      了解更多
     </dt>
     <dd>
      <a href="#">组件 API</a>
     </dd>
     <dd>
      <a href="#">主模块 API</a>
     </dd>
     <dd>
      <a href="https://github.com/haizlin/koacrab/blob/master/doc/anode.md" target="_blank">ANode DOC</a>
     </dd>
     <dd>
      <a href="https://github.com/haizlin/koacrab/tree/master/dist" target="_blank">发布版本说明</a>
     </dd>
     <dd>
      <a href="https://github.com/haizlin/koacrab/blob/master/CHANGELOG.md" target="_blank">版本更新日志</a>
     </dd>
     <dt>
      周边
     </dt>
     <dd>
      <a href="https://github.com/haizlin/koacrab-devtool/blob/master/docs/user_guide.md" target="_blank">DevTool</a>
     </dd>
     <dd>
      <a href="https://ecomfe.github.io/san-mui/" target="_blank">san-mui</a>
     </dd>
     <dd>
      <a href="https://github.com/haizlin/koacrab-router" target="_blank">san-router</a>
     </dd>
     <dd>
      <a href="https://github.com/haizlin/koacrab-store" target="_blank">san-store</a>
     </dd>
     <dd>
      <a href="https://github.com/haizlin/koacrab-update" target="_blank">san-update</a>
     </dd>
     <dt>
      示例
     </dt>
     <dd>
      <a href="https://github.com/haizlin/koacrab/tree/master/example/start" target="_blank">一些小示例</a>
     </dd>
     <dd>
      <a href="https://github.com/haizlin/koacrab/tree/master/example/todos-amd" target="_blank">Todos (AMD)</a>
     </dd>
     <dd>
      <a href="https://github.com/haizlin/koacrab/tree/master/example/todos-esnext" target="_blank">Todos (ESNext)</a>
     </dd>
     <dd>
      <a href="https://github.com/haizlin/koacrab-store/tree/master/example/todos" target="_blank">Todos (单向流)</a>
     </dd>
    </dl>
   </aside>
  </div>
  <script src="js/layout_control.js"></script>
 </body>
</html>
